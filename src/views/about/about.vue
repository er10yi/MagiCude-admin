<template>
  <div style="padding:100px 200px 0">
    <el-card class="box-card">
      <div slot="header" class="clearfix">
        <span><b>魔方-MagiCude</b></span>

        <el-link :underline="false" @click="handleDrawer()">
          <i class="el-icon-view el-icon--right" />正式版 V2.0
        </el-link>
        <el-link style="float: right;" href="https://github.com/er10yi/MagiCude" target="_blank">GitHub项目页面</el-link>
      </div>
      <div class="text">
        <ol>
          <li>高效获取服务器IP, 端口信息, web信息, url链接, 漏洞等资产信息</li>
          <li>对资产进行有效的安全管理</li>
          <li>建立漏洞wiki并自动闭环漏洞, 减少安全部门与业务部门的沟通</li>
          <li>即时漏洞提醒</li>
          <li>定时发送资产报告和漏洞报告</li>
          <li>及时发送资产信息和处理结果给负责人进行整改并自动确认整改完成</li>
          <li>有效获取DHCP的办公机IP与用户关联</li>
          <li>丰富的图表统计</li>
          <li>POC框架</li>
        </ol>
      </div>
      <div class="item">
        Copyrights © 2018-{{ getYear() }}
        <el-link type="info" href="https://github.com/er10yi" target="_blank">贰拾壹.</el-link>All Rights Reserved.
      </div>
    </el-card>

    <!--更新日志显示 -->
    <el-drawer title="ChangeLog" :visible.sync="drawer" direction="rtl" size="60%" :beforeclose="handleDrawerClose">
      <el-card class="box-card">
        <div slot="header" class="clearfix">
          <span><b>TDL - 待定</b></span>
          <div class="text">
            <ol>
              <li>增加用户前端，放开漏洞wiki，还有啥？</li>
              <li>丰富漏洞wiki，建成知识库</li>
              <li>增加全局搜索</li>
              <li>增加资产导入接口，漏洞导入接口</li>
            </ol>
          </div>
        </div>
      </el-card>

      <el-card class="box-card">
        <div slot="header" class="clearfix">
          <span><b>正式版 V2.0 - 20200925</b></span>
          <div class="text">
            <ol>
              正式版发布，同时开源
            </ol>
          </div>
        </div>
      </el-card>

      <el-card class="box-card">
        <div slot="header" class="clearfix">
          <span><b>公测版 V1.3.25 - 20200913</b></span>
          <div class="text">
            <ol>
              前端：
              <li>修复 子任务Drawer，调整分页无效的问题</li>
              <li>优化 用code标签显示代码</li>
              <li>新增 插件页面新增插件代码高亮，python3的selfd插件可前端新增(已知bug，第一次进入插件页面，新增或编辑需要打开两次代码高亮插件才会正常显示，第二次保存才能正常添加代码)</li>
              <li>新增 设置-批量导入，新增python3的selfd插件配置导入，主要用于python3的selfd插件配置及代码导入</li>
              <li>新增 新增各个类型任务的demo</li>
              后端：
              <li>修复 nse类型任务，获取状态时不显示PID信息</li>
              <li>修复 nse、selfd、httpp任务，资产库无对应的信息时，任务也会发给agent</li>
              <li>修复 无资产ip时，目标ip为ipNoPort，unknownPortSerVer，ipAllPort，任务也会发给agent</li>
              <li>修复 修复插件未设置服务和版本时，启动任务会开启所有插件 </li>
              <li>优化 优化新增自定义插件，插件核心增加Jep方式调用python代码，可前端直接新增python3的selfd自定义类型的插件（重要更新，TDL的一半，优化新增自定义插件并丰富插件）</li>
              <li>优化 优化全部批量删除</li>
              <li>新增 新增python3的selfd插件配置导入接口</li>
              <li>新增 agent新增python插件import检测，如模块未安装，则会自动安装</li>
              <li>新增 插件配置新增http、dns辅助验证，用于插件辅助验证无回显漏洞（TDL 增加无回显插件检测）</li>
              <li>新增 增加HTTP json插件解析</li>
              <li>修改 随机获取ua的方式修改，存入redis进行随机</li>
              数据库：
              <li>新增 插件配置新增plugincode字段，用于保存插件代码</li>
              <li>新增 插件配置新增validatetype字段，用于开启插件http辅助验证或dns辅助验证</li>
              配置文件：
              <li>新增 agent.yml新增jep节点，用于保存JEP本地库的绝对路径</li>
              <li>新增 agent.yml新增center节点，用于插件辅助验证时传递http接口和dns的ip地址</li>
              部署脚本:
              <li>增加 新增Python3.8编译安装</li>
              <li>移除 移除jre14，修改成jdk15（JEP编译需要）</li>
              文档：
              <li>优化 优化快速上手及说明文档</li>
              <li>增加 新增Readme文档</li>
              <li>增加 新增插件编写说明</li>
            </ol>
          </div>
        </div>
      </el-card>

      <el-card class="box-card">
        <div slot="header" class="clearfix">
          <span><b>公测版 V1.2.2 - 20200722</b></span>
          <div class="text">
            <ol>
              <li>优化center部署脚本，增加判断是否已经运行过部署脚本，避免误操作二次运行部署脚本（如果已经部署，则需要用户交互），优化docker服务运行状态检测</li>
              <li>优化initDataAndStart.sh，增加脚本复制和执行成功的判断</li>
              <li>修改center.yml，token过期时间设置成一小时</li>
              <li>优化任务插件显示，将插件启用状态体现到操作中，优化插件启用禁用</li>
              <li>新增子任务展开Drawer</li>
              <li>about页面版本上增加changelog的Drawer，增加更新日志及TDL</li>
              <li>前端依赖更新到最新</li>
            </ol>
          </div>
        </div>
      </el-card>

      <el-card class="box-card">
        <div slot="header" class="clearfix">
          <span><b>公测版 V1.2.1 - 20200715</b></span>
          <div class="text">
            <ol>
              前端：
              <li>增加about页面</li>
              <li>增加菜单栏显示与隐藏的Collapse，涉及的页面：任务、资产ip、资产端口、主机、检测结果、web信息、web信息和url</li>
              <li>优化资产ip，去除编辑页面显示ip所有信息，修改成Drawer方式显示，并增加url超链接</li>
              <li>优化资产端口，去除编辑页面显示端口所有信息，修改成Drawer方式显示，并增加http和https链接打开，增加url超链接</li>
              <li>优化新建任务的数量前端样式，将input修改成number模式</li>
              <li>优化检测类型任务，将input修改成单选模式</li>
              <li>优化web信息中ip的显示，增加打开http和https链接的Popover</li>
              <li>首页四个折线图修改成显示最新数据的10%</li>
              <li>修改设置-通知设置中的风险等级编辑样式，从input改成单选模式</li>
              <li>修改cron表达式解析结果的样式，改成表格</li>
            </ol>
          </div>
        </div>
      </el-card>

      <el-card class="box-card">
        <div slot="header" class="clearfix">
          <span><b>公测版 V1.2.0 - 20200706</b></span>
          <div class="text">
            <ol>
              公开公测开启
            </ol>
          </div>
        </div>
      </el-card>

      <el-card class="box-card">
        <div slot="header" class="clearfix">
          <span><b>内测版 V1.1 - 20200615</b></span>
          <div class="text">
            <ol>
              <li>优化部署步骤，修改部署脚本成一键部署</li>
              <li>部署脚本增加系统源修改判断和docker镜像源修改判断（需要用户交互）</li>
              <li>部署脚本增加判断，提高安装部署成功率</li>
              <li>前端增加web信息功能，后端优化部分代码</li>
              <li>文档增加Q/A章节、微信公众号、项目的目录结构说明，为公测做准备</li>
              <li>增加公测宣传文档</li>
              <li>增加magicude执行脚本，便于查看系统状态及操作系统（0624）</li>
            </ol>
          </div>
        </div>
      </el-card>

      <el-card class="box-card">
        <div slot="header" class="clearfix">
          <span><b>内测版 V1.0 - 20200528</b></span>
          <div class="text">
            <ol>
              公开内测开启
            </ol>
          </div>
        </div>
      </el-card>
    </el-drawer>
  </div>
</template>
<script>
export default {
  data() {
    return {
      drawer: false
    }
  },
  methods: {
    handleDrawer() {
      this.drawer = true
    },
    handleDrawerClose() {
      this.drawer = false
    },
    getYear() {
      var now = new Date()
      this.year = now.getFullYear()
      return this.year
    }
  }
}
</script>
<style>
.text {
  font-size: 15px;
  line-height: 28px;
}
.item {
  font-size: 13px;
  text-align: center;
}
.el-drawer__body {
  overflow: auto;
}
</style>
